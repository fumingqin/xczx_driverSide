{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HBuilderProjects/jdt-jsd/pages/CTKYDriver/index.vue?35df","webpack:///D:/HBuilderProjects/jdt-jsd/pages/CTKYDriver/index.vue?6002","webpack:///D:/HBuilderProjects/jdt-jsd/pages/CTKYDriver/index.vue?bedb","webpack:///D:/HBuilderProjects/jdt-jsd/pages/CTKYDriver/index.vue?aa61","uni-app:///pages/CTKYDriver/index.vue","webpack:///D:/HBuilderProjects/jdt-jsd/pages/CTKYDriver/index.vue?739f","webpack:///D:/HBuilderProjects/jdt-jsd/pages/CTKYDriver/index.vue?3049"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC4K;AAC5K,gBAAgB,sLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,oPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAA+oB,CAAgB,4pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoJnqB,6H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,cACA,WADA,EAEA,uBAFA,EAGA,6CAHA,EAIA,yCAJA,EAKA,eALA,IAOA;;;;;;uNAOA,EACA,WADA,EAEA,uBAFA,EAGA,+CAHA,EAIA,yCAJA,EAKA,cALA,EAdA,CADA,EAuBA,0BAvBA,EAwBA,wBAxBA,EAyBA,WAzBA,EA0BA,aA1BA,EA2BA,mBA3BA,EA6BA,sBA7BA,EA+BA,cA/BA,EA+BA;AACA,oBAhCA,EAgCA;AACA,sBAjCA,GAmCA,CArCA,EAsCA,MAtCA,oBAsCA,CACA,gBACA,4DACA,uCACA,oBACA,oBACA,uBACA,CA7CA,EA8CA,MA9CA,oBA8CA,CACA,gBACA,sBACA,kBADA,EAEA,gCACA,CAHA,EAIA,0BACA,CALA,IAOA,uDACA,0BACA,iDACA,+CACA,+BACA,CACA,CA7DA,EA8DA,QA9DA,sBA8DA,CACA,gBACA,qCACA,CAjEA,EAkEA,OAlEA,qBAkEA,CACA,CAnEA,EAoEA,WACA,6CACA,gBACA,oBACA,gCACA,wEACA,wEACA,8BACA,8BACA,CANA,IAQA,CAXA,EAaA,uCACA,aACA,kBACA,mBACA,UACA,gBACA,MACA,UACA,qBACA,MACA,UACA,sBACA,MACA,QACA,MAXA,CAYA,CACA,iBACA,QADA,IAGA,CACA,CAjCA,EAmCA,uBACA,iBACA,oBADA,EAEA,8BAFA,IAIA,CAxCA,EA0CA,uCACA;AACA,sBACA,kBACA,gCACA,mEACA,kGACA,4CACA,wCACA,sCACA,sBACA,uBACA,uCACA,uCACA,qCACA,oDACA,CACA,sCACA,qDACA,CAZA,CAaA;AACA,oCACA,sBACA,CACA,mBACA,CApBA,EAqBA,CAvBA,IAyBA,CAtEA,EAuEA,2BACA,yEACA,CAzEA,EA2EA,uCACA,gBACA,qCACA,iDACA,oBACA,CAFA,EAEA,KAFA,EAGA,CAjFA,EAmFA,oDACA,kBACA,CArFA,EAsFA,4DACA,8DACA,CAxFA;AAyFA;AACA;AACA,KA3FA;;AA6FA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAvGA,EApEA,E;;;;;;;;;;;;;ACrJA;AAAA;AAAA;AAAA;AAAo7B,CAAgB,m6BAAG,EAAC,C;;;;;;;;;;;ACAx8B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/CTKYDriver/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/CTKYDriver/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=ef876780&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"HBuilderProjects/jdt-jsd/pages/CTKYDriver/index.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=ef876780&\"","var components = {\n  uniIcons: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.formatSetoutTime(_vm.ScheduleAndTickets.SetoutTime)\n  var m1 = _vm.formatPersonCount(_vm.ScheduleAndTickets.Tickets)\n  var m2 = _vm.formatCarryChildCount(_vm.ScheduleAndTickets.Tickets)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"head\">\r\n\t\t\t<view class=\"status_bar\"></view>\r\n\t\t\t<view class=\"headbar\">\r\n\t\t\t\t<uni-icons @click=\"back\" type=\"arrowleft\" size=\"24\" color=\"#FFF\"></uni-icons>\r\n\t\t\t\t<view class=\"title\">客车</view>\r\n\t\t\t\t<view></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view style=\"margin-left: 30rpx;margin-right: 30rpx;margin-top: -90rpx;\">\r\n\t\t\t\r\n\t\t\t<view style=\"padding: 30rpx 40rpx;background:#FFFFFF;box-shadow:0px 6px 20px 0px rgba(231,231,231,0.53);border-radius:20rpx;\">\r\n\t\t\t\t<view style=\"display: flex;flex-direction: column;\">\r\n\t\t\t\t\t<view style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t\t<view style=\"width: 100%;\">\r\n\t\t\t\t\t\t\t<text class=\"informationFont\">线路：{{ScheduleAndTickets.LineName}}</text>\r\n\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t<!-- <view style=\"width: 305rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"informationFont\">类型：定制快车</text> \r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t</view> \r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view style=\"display: flex;flex-direction: column;\">\r\n\t\t\t\t\t<view style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t\t<view style=\"width: 305rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"informationFont\">车牌号：{{ScheduleAndTickets.CoachCardNumber}}</text>\r\n\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t<view style=\"width: 305rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"informationFont\">发车时间：{{formatSetoutTime(ScheduleAndTickets.SetoutTime)}}</text> \r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view style=\"display: flex;flex-direction: column;\">\r\n\t\t\t\t\t<view style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t\t<view style=\"width: 305rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"informationFont\">全票人数：{{formatPersonCount(ScheduleAndTickets.Tickets)}}人</text>\r\n\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t<view style=\"width: 305rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"informationFont\">携童人数：{{formatCarryChildCount(ScheduleAndTickets.Tickets)}}人</text> \r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<view style=\"padding: 30rpx 40rpx;margin-top: 30rpx;background:#FFFFFF;box-shadow:0px 6px 20px 0px rgba(231,231,231,0.53);border-radius:20rpx;\">\r\n\t\t\t\t<scroll-view :style=\"{height:firHeight+'px'}\" :scroll-x=\"true\" :scroll-into-view='scrollStationIndex'> \r\n\t\t\t\t\t<view style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!--起点-->\r\n\t\t\t\t\t\t<view style=\"display: flex;flex-direction: column;\">\r\n\t\t\t\t\t\t\t<!-- <view style=\"display: flex;flex-direction: column;width: 100rpx;\" id=\"id_0\"> -->\r\n\t\t\t\t\t\t\t<view style=\"text-align: center;height: 35rpx;\">\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"display: flex;margin-top: 10rpx;margin-bottom: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<image src=\"../../static/CTKYDriver/startSite.png\" style=\"width: 40rpx;height: 50rpx;\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!--横向-->\r\n\t\t\t\t\t\t<view v-for='(item ,index) in ScheduleAndTickets.SiteTicketList' :key='index' :id=\"'id_' + (index + 1)\"  style=\"display: flex;flex-direction: column;width: 100rpx;\">\r\n\t\t\t\t\t\t\t<view style=\"text-align: center;height: 50rpx;\">\r\n\t\t\t\t\t\t\t\t<image v-show='nowIndex == index' src=\"../../static/CTKYDriver/bus.png\" style=\"width: 50rpx;height: 25rpx;\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"display: flex;margin-top: 10rpx;margin-bottom: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<image src=\"../../static/CTKYDriver/line2.png\" style=\"width: 100rpx;height: 10rpx;\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"text-align: center;\">\r\n\t\t\t\t\t\t\t\t<text style=\"font-size:30rpx;font-family:Source Han Sans SC;font-weight:300;color:#333333\">{{index+1}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<view style=\"width: 20px;margin: 0 auto;text-align: center;line-height: 35rpx;\">\r\n\t\t\t\t\t\t\t\t\t<text style=\"font-size:30rpx;font-family:Source Han Sans SC;font-weight:300;color:#333333;\">{{item.SiteName}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-show=\"item.ThisSiteGetonTicketCount > 0\">\r\n\t\t\t\t\t\t\t\t<view  style=\"width: 30px;margin: 0 auto;text-align: center;margin-top: 30rpx;line-height: 35rpx;\">\r\n\t\t\t\t\t\t\t\t\t<text style=\"font-size:30rpx;font-family:Source Han Sans SC;font-weight:300;color:#5BC12D;\">{{item.ThisSiteGetonTicketCount}}人上</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-show=\"item.ThisSiteGetoffTicketCount > 0\">\r\n\t\t\t\t\t\t\t\t<view  style=\"width: 30px;margin: 0 auto;text-align: center;margin-top: 30rpx;line-height: 35rpx;\">\r\n\t\t\t\t\t\t\t\t\t<text style=\"font-size:30rpx;font-family:Source Han Sans SC;font-weight:300;color:#fc4646;\">{{item.ThisSiteGetoffTicketCount}}人下</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!--终点-->\r\n\t\t\t\t\t\t<view style=\"display: flex;flex-direction: column;\">\r\n\t\t\t\t\t\t\t<view style=\"text-align: center;height: 35rpx;\"></view>\r\n\t\t\t\t\t\t\t<view style=\"display: flex;margin-top: 10rpx;margin-bottom: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<image src=\"../../static/CTKYDriver/endSite.png\" style=\"width: 40rpx;height: 50rpx;\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t\r\n\t\t\t\t<scroll-view :style=\"{height:secHeight+'px'}\" :scroll-y=\"true\" :scroll-into-view=\"scrollOnOffIndex\">\r\n\t\t\t\t\t<view style=\"display: flex;flex-direction: column;\">\r\n\t\t\t\t\t\t<view v-for=\"(item , index) in ScheduleAndTickets.SiteTicketList\" :key='index' :id=\"'id_' + (index+1)\">\r\n\t\t\t\t\t\t\t<view v-show=\"item.ThisSiteGetonTicketCount > 0\" style=\"display: flex;flex-direction: row;align-items: center;margin-bottom: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<image src=\"../../static/CTKYDriver/msg-green.png\" style=\"width: 28rpx;height: 28rpx;margin-right: 10rpx;\"></image>\r\n\t\t\t\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeFont\">请注意，</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeOnFont\">{{item.SiteName}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeFont\">有</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeOnFont\">{{item.ThisSiteGetonTicketCount}}个</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeFont\">乘客等待上车</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-show=\"item.ThisSiteGetoffTicketCount > 0\" style=\"display: flex;flex-direction: row;align-items: center;margin-bottom: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<image src=\"../../static/CTKYDriver/msg-red.png\" style=\"width: 28rpx;height: 28rpx;margin-right: 10rpx;\"></image>\r\n\t\t\t\t\t\t\t\t<view style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeFont\">请注意，</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeOffFont\">{{item.SiteName}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeFont\">有</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeOffFont\">{{item.ThisSiteGetoffTicketCount}}个</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"noticeFont\">乘客等待下车</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\t\t\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"tabbarBlock\">\r\n\t\t\t<view style=\"display: flex;flex-direction: row;\">\r\n\t\t\t\t<view class=\"tabbarItem\" v-for=\"(item,index) in tabbarArr\" :key='index' @click=\"tabbarClick(item)\">\r\n\t\t\t\t\t<view style=\"display: flex;flex-direction: column;align-items: center;justify-content: center;\">\r\n\t\t\t\t\t\t<image :src=\"item.imageSrc\" :style=\"item.imageStyle\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text :style=\"item.color\">{{item.title}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Voice from '../../js_sdk/QuShe-baiduYY/QS-baiduyy/QS-baiduyy.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabbarArr: [{\r\n\t\t\t\t\t\ttitle: '首页',\r\n\t\t\t\t\t\tcolor: 'color: #FC4646',\r\n\t\t\t\t\t\timageSrc: '../../static/tabbar/index-red.png',\r\n\t\t\t\t\t\timageStyle: 'width: 51rpx;height: 45rpx;',\r\n\t\t\t\t\t\tcanClick: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t/* {\r\n\t\t\t\t\t\ttitle: '购票',\r\n\t\t\t\t\t\tcolor: 'color: #2C2D2D',\r\n\t\t\t\t\t\timageSrc: '../../static/tabbar/buy-black.png',\r\n\t\t\t\t\t\timageStyle: 'width: 49rpx;height: 36rpx;',\r\n\t\t\t\t\t\tcanClick: true\r\n\t\t\t\t\t}, */\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '检票',\r\n\t\t\t\t\t\tcolor: 'color: #2C2D2D',\r\n\t\t\t\t\t\timageSrc: '../../static/tabbar/check-black.png',\r\n\t\t\t\t\t\timageStyle: 'width: 47rpx;height: 38rpx;',\r\n\t\t\t\t\t\tcanClick: true\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tscrollStationIndex:'id_0',\r\n\t\t\t\tscrollOnOffIndex:'id_0',\r\n\t\t\t\tnowIndex:0,\r\n\t\t\t\tlastIndex:-1,\r\n\t\t\t\tdistanceInterval:0,\r\n\t\t\t\t\r\n\t\t\t\tScheduleAndTickets:'',\r\n\t\t\t\t\r\n\t\t\t\tfirHeight:270,//第一个块高度280\r\n\t\t\t\tsecHeight:100,//第二个块高度140\r\n\t\t\t\tbasicHeight:720,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet that = this;\r\n\t\t\tlet scheduleInfo = uni.getStorageSync('scheduleInfo') || '';\r\n\t\t\tthat.ScheduleAndTickets = scheduleInfo;\r\n\t\t\tthat.initSiteData();\r\n\t\t\tthat.mathDistance();\r\n\t\t\tthat.initModuleParam();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet that = this;\r\n\t\t\tuni.setKeepScreenOn({\r\n\t\t\t\tkeepScreenOn:true,\r\n\t\t\t\tsuccess:function(res){\r\n\t\t\t\t},\r\n\t\t\t\tfail:function(res){\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthat.lastIndex = uni.getStorageSync('lastIndex') || -1;\r\n\t\t\tif(that.lastIndex > -1){\r\n\t\t\t\tthat.scrollStationIndex = 'id_' + that.lastIndex;\r\n\t\t\t\tthat.scrollOnOffIndex = 'id_' + that.lastIndex;\r\n\t\t\t\tthat.nowIndex = that.lastIndex\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tlet that = this;\r\n\t\t\tclearInterval(that.distanceInterval);\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitModuleParam:function(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t\tlet firHeightVal = that.firHeight / that.basicHeight * res.windowHeight;\r\n\t\t\t\t\t\tlet secHeightVal = that.secHeight / that.basicHeight * res.windowHeight;\r\n\t\t\t\t\t\tthat.firHeight = firHeightVal;\r\n\t\t\t\t\t\tthat.secHeight = secHeightVal;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttabbarClick: function(el) {\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tif (el.canClick) {\r\n\t\t\t\t\tswitch (el.title) {\r\n\t\t\t\t\t\tcase '首页':\r\n\t\t\t\t\t\t\turl = './index';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase '购票':\r\n\t\t\t\t\t\t\turl = './chooseSite';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase '检票':\r\n\t\t\t\t\t\t\turl = './checkTicket';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl:url\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tback:function(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'./selectOrder',\r\n\t\t\t\t\tanimationType:\"slide-in-left\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tinitSiteData:function(){\r\n\t\t\t\t//根据经纬度获取当前\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t\tthat.ScheduleAndTickets.SiteTicketList.filter((x,index) => {\r\n\t\t\t\t\t\t\tlet long = that.$home.mathLonLatToDistance(res.latitude,res.longitude,x.Latitude,x.Longitude);\r\n\t\t\t\t\t\t\tif(long < 500 && that.lastIndex < index  ){\r\n\t\t\t\t\t\t\t\tthat.scrollStationIndex = 'id_' + index;\r\n\t\t\t\t\t\t\t\tthat.scrollOnOffIndex = 'id_' + index;\r\n\t\t\t\t\t\t\t\tthat.nowIndex = index ;\r\n\t\t\t\t\t\t\t\tthat.lastIndex = index;\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('lastIndex' , index);\r\n\t\t\t\t\t\t\t\tlet str = '请注意' + x.SiteName + '就要到了，' ;\r\n\t\t\t\t\t\t\t\tif(x.ThisSiteGetonTicketCount > 0){\r\n\t\t\t\t\t\t\t\t\tstr += '有' + x.ThisSiteGetonTicketCount + '位乘客等待上车'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(x.ThisSiteGetoffTicketCount > 0){\r\n\t\t\t\t\t\t\t\t\tstr += '有' + x.ThisSiteGetoffTicketCount + '位乘客即将下车'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//报站两次\r\n\t\t\t\t\t\t\t\tthat.baiduPlayer(str); \r\n\t\t\t\t\t\t\t\tthat.baiduPlayer(str);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn long < 500;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsleep:function(ms){\r\n\t\t\t\treturn new Promise(resolve => setTimeout(resolve,ms));\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tmathDistance:function(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tclearInterval(that.distanceInterval); \r\n\t\t\t\tthat.distanceInterval = setInterval(function(){\r\n\t\t\t\t\tthat.initSiteData();\r\n\t\t\t\t},20000);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tformatPersonCount:function(arr){\r\n\t\t\t\treturn arr.length;\r\n\t\t\t},\r\n\t\t\tformatCarryChildCount:function(arr){\r\n\t\t\t\treturn arr.filter(x => x.CarryChild).length;\r\n\t\t\t},\r\n\t\t\tformatSetoutTime:function(dateTime){\r\n\t\t\t\treturn dateTime.substring(11,16);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//调用语音合成接口\r\n\t\t\tbaiduPlayer: function(tex) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tVoice(tex);\r\n\t\t\t\t//that.getBDVoicToken(tex);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//百度语音接口，可用，但未改成js文件。\t\t\r\n\t\t\t/* getBDVoicToken: function(tex) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tconst APIKey = 'McfIsVog3Q5AsTxtTGOsoFOs';\r\n\t\t\t\tconst SecretKey = 'fEVIpjVvDXh4BIwWGtg9oOkFV71K1tlv';\r\n\t\t\t\r\n\t\t\t\tuni.request({ // 强烈建议此接口由后端访问并且维护token有效期，否则前端每次访问都会刷新token\r\n\t\t\t\t\t//此url为专门插件测试预览用的key和secret key， 请替换为自己申请的key\r\n\t\t\t\t\turl: 'https://openapi.baidu.com/oauth/2.0/token',\r\n\t\t\t\t\tmethod: 'GET', //建议使用post访问\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tgrant_type: 'client_credentials',\r\n\t\t\t\t\t\tclient_id: APIKey,\r\n\t\t\t\t\t\tclient_secret: SecretKey\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif (res.data && res.data.access_token) {\r\n\t\t\t\t\t\t\tlet tok = res.data.access_token;\r\n\t\t\t\t\t\t\tthat.tts(tex, tok);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttts: function(objs, tok) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tobjs = {\r\n\t\t\t\t\tvoiceSet: {\r\n\t\t\t\t\t\ttex: objs\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tconst data = {\r\n\t\t\t\t\ttok,\r\n\t\t\t\t\tcuid: tok,\r\n\t\t\t\t\tctp: 1,\r\n\t\t\t\t\tlan: 'zh',\r\n\t\t\t\t\t...objs.voiceSet\r\n\t\t\t\t}\r\n\t\t\t\tthat.getVoiceUrl(data, objs.audioSet);\r\n\t\t\t},\r\n\t\t\tgetVoiceUrl: function(param, options) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tconst getAudioUrl = 'https://tsn.baidu.com/text2audio';\r\n\t\t\t\tlet audio = uni.createInnerAudioContext();\r\n\t\t\t\tthat.setAudioSet(options, audio);\r\n\t\t\t\t// 序列化参数列表\r\n\t\t\t\tlet fd = [];\r\n\t\t\t\tfor (let k in param) {\r\n\t\t\t\t\tfd.push(k + '=' + encodeURIComponent(encodeURIComponent(param[k])));\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(fd);\r\n\t\t\t\taudio.src = `${getAudioUrl}?${fd.join('&')}`;\r\n\t\t\t\taudio.play();\r\n\t\t\t},\r\n\t\t\tsetAudioSet: function(options, audio) {\r\n\t\t\t\tif (options) {\r\n\t\t\t\t\taudio.volume = options.volume || 1;\r\n\t\t\t\t\taudio.startTime = options.startTime || 0;\r\n\t\t\t\t\taudio.loop = options.loop || false;\r\n\t\t\t\t\taudio.obeyMuteSwitch = options.obeyMuteSwitch && typeof(options.obeyMuteSwitch) == 'boolean' ? options.obeyMuteSwitch :\r\n\t\t\t\t\t\ttrue;\r\n\t\t\t\t}\r\n\t\t\t} */\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground-color: #F5F9FA;\r\n\t}\r\n\r\n\t.status_bar {\r\n\t\theight: var(--status-bar-height);\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: content-box;\r\n\t}\r\n\r\n\t.head {\r\n\t\twidth: 750rpx;\r\n\t\theight: 257rpx;\r\n\t\tbackground: linear-gradient(0deg, rgba(254, 68, 109, 1) 0%, rgba(254, 148, 95, 1) 100%);\r\n\t}\r\n\r\n\t.headbar {\r\n\t\tpadding: 10rpx 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 38rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t\r\n\t.informationFont{\r\n\t\tfont-size:30rpx;\r\n\t\tfont-family:Source Han Sans SC;\r\n\t\tfont-weight:300;\r\n\t\tcolor:#333333;\r\n\t}\r\n\t\r\n\t.noticeFont{\r\n\t\tfont-size:26rpx;\r\n\t\tfont-family:Source Han Sans SC;\r\n\t\tfont-weight:300;\r\n\t\tcolor:#262626;\r\n\t}\r\n\t.noticeOnFont{\r\n\t\tfont-size:26rpx;\r\n\t\tfont-family:Source Han Sans SC;\r\n\t\tfont-weight:300;\r\n\t\tcolor:#5BC12D;\r\n\t}\r\n\t.noticeOffFont{\r\n\t\tfont-size:26rpx;\r\n\t\tfont-family:Source Han Sans SC;\r\n\t\tfont-weight:300;\r\n\t\tcolor:#FC4646;\r\n\t}\r\n\t\r\n/* 页面底部工具栏样式 */\r\n\t.tabbarBlock {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tpadding: 20rpx 0;\r\n\t\tbackground-color: #FFF;\r\n\t\tbox-shadow: 0px 8px 20px 0px rgba(172, 172, 172, 0.55);\r\n\t\tz-index: 99999;\r\n\t\theight: 40px;\r\n\t}\r\n\t\r\n\t.tabbarItem {\r\n\t\twidth: 375rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t\r\n\t .tabbarItem view { \r\n\t\theight: 50rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t .tabbarItem text {\r\n\t\tfont-size: 25rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: 400;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592187276310\n      var cssReload = require(\"D:/HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}